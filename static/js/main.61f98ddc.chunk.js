(this["webpackJsonpogame-ui"]=this["webpackJsonpogame-ui"]||[]).push([[0],{74:function(e,t,a){e.exports=a(91)},79:function(e,t,a){},80:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(24),c=a.n(l),s=(a(79),a(80),a(51)),i=a(58),u=a(29),o="light",h="dark",m="https://api.codetabs.com/v1/proxy?quest=",d={0:"All",1:"Economy",2:"Research",3:"Military",4:"Military Built",5:"Military Destroyed",6:"Military Lost",7:"Honor"},p=[{rate:"2.5:1.6:1"},{rate:"2:1.5:1"},{rate:"1.8:1.4:1"}],y={crystal:"crystal",deut:"deut",metal:"metal"},v={A:"active",a:"admin",v:"vacancy",i:"inactive",I:"long inactive",b:"banned",o:"outlaw"},f=[{header:"Trades",title:"Trades resources",text:"Get value of resources to sell your resource",route:"trades",available:!0},{header:"Players",title:"Players list",text:"Get players accross universes",route:"players",available:!0},{header:"Market",title:"Market resources calculator",text:"Get value of ship/resources for the market",route:"market",available:!1},{header:"Mining",title:"Building tool",text:"Get the production/cost of any building",route:"mining",available:!1},{header:"Universes",title:"Get universes informations",text:"Universes list and data",route:"universes",available:!1},{header:"Scores",title:"Get scores accross universes",text:"Scores military/mining etc.",route:"score",available:!1},{header:"Alliances",title:"Get alliances informations",text:"Alliances list and data accross universes",route:"alliances",available:!1}],b=a(6),g=a(7),E=a(9),O=a(8),j=a(10),k=a(56),C=a(15),x=a(11),S=a(61),R=a(27);function A(){return r.a.createElement(S.a,{bg:"dark",variant:"dark"},r.a.createElement(S.a.Brand,{href:"/"},"OgameJS"),r.a.createElement(R.a,{className:"mr-auto"},r.a.createElement(R.a.Link,{href:"trades"},"Trades"),r.a.createElement(R.a.Link,{href:"players"},"Players"),r.a.createElement(R.a.Link,{href:"market"},"Market"),r.a.createElement(R.a.Link,{href:"mining"},"Mining"),r.a.createElement(R.a.Link,{href:"universes"},"Universes"),r.a.createElement(R.a.Link,{href:"score"},"Scores"),r.a.createElement(R.a.Link,{href:"alliances"},"Alliances")))}var w=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement(k.a,{fluid:!0,className:"full-height"},r.a.createElement(k.a,null,r.a.createElement(C.a,null,r.a.createElement(x.a,null,this.props.children)))))}}]),t}(r.a.Component),N=a(40),T=a(16),M=a(68),D=a(69),P=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,null,f.map((function(e,t){return r.a.createElement(x.a,{key:t},r.a.createElement(N.a,{bg:"dark",text:"white",style:{width:"18rem",height:"10rem"},className:"m-3",key:e.route},r.a.createElement(N.a.Body,null,r.a.createElement("span",{className:"float-right"},e.available?r.a.createElement(T.a,{variant:"dark",href:e.route},r.a.createElement(M.a,{icon:D.a})):"comming soon"),r.a.createElement(N.a.Title,null,e.title),r.a.createElement(N.a.Text,null,e.text))))})))}}]),t}(r.a.Component),B=a(53),I=a(12),V=a(34),L=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).renderRates=a.renderRates.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"renderRates",value:function(e,t){var a=this,n=e.rate,l=this.props.getActiveRate(n);return r.a.createElement(T.a,{variant:l,onClick:function(){return a.props.setRate(n)},className:"margin-right-sm",key:t},n)}},{key:"render",value:function(){var e=this;return p.map((function(t,a){return e.renderRates(t,a)}))}}]),t}(r.a.Component),G=a(52),H=a(47),F=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return r.a.createElement(G.a,null,r.a.createElement(G.a.Prepend,null,r.a.createElement(G.a.Text,{id:"input-".concat(this.props.text)},this.props.text)),r.a.createElement(H.a,{"aria-label":this.props.input,"aria-describedby":"input-".concat(this.props.text),disabled:this.props.disabled?"disabled":"",max:this.props.maxValue,min:"0",onChange:this.props.onChange,placeholder:this.props.placeholder,type:"number",value:this.props.value}))}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).resources=[{name:"%metal",maxValue:100,resource:y.metal,percent:"percentMetal"},{name:"%crystal",maxValue:100,resource:y.crystal,percent:"percentCrystal"},{name:"%deut",maxValue:100,resource:y.deut,percent:"percentDeut"}],a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"renderInputs",value:function(e,t){var a=this,n=e.resource,l=e.name,c=e.maxValue,s=e.percent;return r.a.createElement(x.a,{key:t},r.a.createElement(F,{text:l,disabled:this.props.isCurrentRessource(n),maxValue:c,onChange:function(e){return a.props.handlePercentChange(e,n)},placeholder:n,value:this.props[s]}))}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,null,this.resources.map((function(t,a){return e.renderInputs(t,a)})))}}]),t}(r.a.Component),z=a(70),J=a.n(z),$=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).handleOnClick=a.handleOnClick.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"handleOnClick",value:function(){J()(this.props.text)}},{key:"render",value:function(){return r.a.createElement(T.a,{variant:"light",onClick:this.handleOnClick},"Copy")}}]),t}(r.a.Component),W=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(g.a)(t,[{key:"prettify",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}},{key:"getText",value:function(e,t,a,n){return n===y.deut?"Trade:\n".concat(a," deut\n\nAgainst:\n").concat(e," metal\n").concat(t," crystal"):n===y.crystal?"Trade:\n".concat(t," crystal\n\nAgainst:\n").concat(e," metal\n").concat(a," deut"):n===y.metal?"Trade:\n".concat(e," metal\n\nAgainst:\n").concat(a," deut\n").concat(t," crystal"):"Nothing to sell yet"}},{key:"render",value:function(){var e=this.props,t=e.metal,a=e.crystal,n=e.deut,l=e.selected,c=this.prettify(n),s=this.prettify(t),i=this.prettify(a),u=this.getText(s,i,c,l);return r.a.createElement(r.a.Fragment,null,"deut: ",c," metal: ",s," crystal: ",i,r.a.createElement("div",{className:"margin-top"},r.a.createElement($,{text:u})))}}]),t}(r.a.Component),q=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).resources=[{id:y.metal},{id:y.crystal},{id:y.deut}],a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"renderInputs",value:function(e,t){var a=this,n=y[e.id];return r.a.createElement(x.a,{key:t},r.a.createElement(F,{text:n,onChange:function(e){return a.props.handleRateChange(e,n)},placeholder:n,value:this.props.getRate(n)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,null,this.resources.map((function(t,a){return e.renderInputs(t,a)})))}}]),t}(r.a.Component),_=function(e){function t(){return Object(b.a)(this,t),Object(E.a)(this,Object(O.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rate,a=e.selected,n=V.a.Trader.parseRate(t,a),r=n.rateMetal,l=n.rateCrystal,c=n.rateDeut;return"deut"===a?"".concat(c," deut = ").concat(r," metal and ").concat(l," crystal"):"metal"===a?"".concat(r," metal = ").concat(c," deut and ").concat(l," crystal"):"crystal"===a?"".concat(l," crystal = ").concat(c," deut and ").concat(r," metal"):"Nothing selected"}}]),t}(r.a.Component),K=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).resources=[{displayName:"Metal",name:y.metal},{displayName:"Crystal",name:y.crystal},{displayName:"Deut",name:y.deut}],a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"renderInputs",value:function(e,t){var a=this;return r.a.createElement(x.a,{key:t},r.a.createElement(F,{disabled:this.props.isNotCurrentResource(e.name),onChange:function(t){return a.props.handleResourceChange(t,e.name)},placeholder:e.name,text:e.displayName,value:this.props[e.name]}))}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,null,this.resources.map((function(t,a){return e.renderInputs(t,a)})))}}]),t}(r.a.Component),Q=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).resources=[{id:y.metal},{id:y.crystal},{id:y.deut}],a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"renderLabel",value:function(e,t){var a=this,n=y[e.id],l=this.props.getActiveTrade(n);return r.a.createElement(T.a,{variant:l,onClick:function(){return a.props.handleOnChange(n)},className:"margin-right-sm",key:t},n)}},{key:"render",value:function(){var e=this;return this.resources.map((function(t,a){return e.renderLabel(t,a)}))}}]),t}(r.a.Component),X=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={crystal:0,deut:0,metal:0,percentCrystal:40,percentDeut:0,percentMetal:60,rate:"2:1.5:1",selected:y.deut},a.getActiveRate=a.getActiveRate.bind(Object(I.a)(a)),a.getRate=a.getRate.bind(Object(I.a)(a)),a.handleOnChange=a.handleOnChange.bind(Object(I.a)(a)),a.getActiveTrade=a.getActiveTrade.bind(Object(I.a)(a)),a.handlePercentChange=a.handlePercentChange.bind(Object(I.a)(a)),a.handleRateChange=a.handleRateChange.bind(Object(I.a)(a)),a.handleResourceChange=a.handleResourceChange.bind(Object(I.a)(a)),a.handleResourceChange=a.handleResourceChange.bind(Object(I.a)(a)),a.isCurrentRessource=a.isCurrentRessource.bind(Object(I.a)(a)),a.isNotCurrentResource=a.isNotCurrentResource.bind(Object(I.a)(a)),a.setRate=a.setRate.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"sellDeut",value:function(){var e=this.state,t=e.deut,a=e.percentMetal,n=e.percentCrystal,r=e.rate,l=V.a.Trader.sellDeut(t,a,n,r),c=l.metal,s=l.crystal;this.setState({metal:c,crystal:s})}},{key:"sellMetal",value:function(){var e=this.state,t=e.metal,a=e.percentDeut,n=e.percentCrystal,r=e.rate,l=V.a.Trader.sellMetal(t,a,n,r),c=l.crystal,s=l.deut;this.setState({deut:s,crystal:c})}},{key:"sellCrystal",value:function(){var e=this.state,t=e.crystal,a=e.percentDeut,n=e.percentMetal,r=e.rate,l=V.a.Trader.sellCrystal(t,a,n,r),c=l.metal,s=l.deut;this.setState({metal:c,deut:s})}},{key:"printResult",value:function(){this.state.selected===y.deut?this.sellDeut():this.state.selected===y.metal?this.sellMetal():this.state.selected===y.crystal&&this.sellCrystal()}},{key:"handleOnChange",value:function(e){this.setState({selected:e})}},{key:"handleResourceChange",value:function(e,t){var a=Number(e.target.value);t===y.deut?this.setState({deut:a},this.printResult):t===y.metal?this.setState({metal:a},this.printResult):t===y.crystal&&this.setState({crystal:a},this.printResult)}},{key:"handleRateChange",value:function(e,t){var a=e.target.value,n=this.state.rate.split(":"),r=n[2],l=n[0],c=n[1],s="".concat(l,":").concat(c,":").concat(r);t===y.deut?s="".concat(l,":").concat(c,":").concat(a):t===y.metal?s="".concat(a,":").concat(c,":").concat(r):t===y.crystal&&(s="".concat(l,":").concat(a,":").concat(r)),this.setState({rate:s},this.printResult)}},{key:"roundToHundred",value:function(e,t){var a=this.state.selected;return a===y.deut&&t===y.metal?{percentCrystal:100-e}:a===y.deut&&t===y.crystal?{percentMetal:100-e}:a===y.metal&&t===y.deut?{percentCrystal:100-e}:a===y.metal&&t===y.crystal||a===y.crystal&&t===y.metal?{percentDeut:100-e}:a===y.crystal&&t===y.deut?{percentMetal:100-e}:void 0}},{key:"handlePercentChange",value:function(e,t){var a=this.roundValue(Number(e.target.value));t===y.deut?this.setState(Object(B.a)({percentDeut:a},this.roundToHundred(a,y.deut)),this.printResult):t===y.metal?this.setState(Object(B.a)({percentMetal:a},this.roundToHundred(a,y.metal)),this.printResult):t===y.crystal&&this.setState(Object(B.a)({percentCrystal:a},this.roundToHundred(a,y.crystal)),this.printResult)}},{key:"getRate",value:function(e){var t=this.state.rate.split(":"),a=t[2],n=t[0],r=t[1];return e===y.deut?a:e===y.metal?n:e===y.crystal?r:void 0}},{key:"getActiveRate",value:function(e){return e===this.state.rate?"primary":"light"}},{key:"getActiveTrade",value:function(e){return e===this.state.selected?"primary":"light"}},{key:"setRate",value:function(e){this.setState({rate:e})}},{key:"getPercent",value:function(e){var t=this.state,a=t.percentCrystal,n=t.percentDeut,r=t.percentMetal,l=this.roundValue(n),c=this.roundValue(r),s=this.roundValue(a);return e===y.deut?{percentCrystal:s,percentDeut:0,percentMetal:c}:e===y.metal?{percentCrystal:s,percentDeut:l,percentMetal:0}:e===y.crystal?{percentCrystal:0,percentDeut:l,percentMetal:c}:void 0}},{key:"isCurrentRessource",value:function(e){return e===this.state.selected}},{key:"isNotCurrentResource",value:function(e){return this.state.selected!==e}},{key:"roundValue",value:function(e){return e>100?100:e}},{key:"render",value:function(){var e=this.state,t=e.metal,a=e.crystal,n=e.deut,l=e.selected,c=e.rate,s=this.getPercent(l),i=s.percentMetal,u=s.percentCrystal,o=s.percentDeut;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("h6",{className:"margin-top text-white"},"Select ressource"),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(Q,{handleOnChange:this.handleOnChange,getActiveTrade:this.getActiveTrade})))),r.a.createElement(x.a,null,r.a.createElement("hr",null),r.a.createElement("h6",{className:"margin-top text-white"},"Rates"),r.a.createElement("div",{className:"text-center margin-bottom"},r.a.createElement(L,{getActiveRate:this.getActiveRate,setRate:this.setRate})),r.a.createElement(q,{getRate:this.getRate,handleRateChange:this.handleRateChange})),r.a.createElement(x.a,null,r.a.createElement("hr",null),r.a.createElement("h6",{className:"margin-top text-white"},"Percents"),r.a.createElement(U,{handlePercentChange:this.handlePercentChange,isCurrentRessource:this.isCurrentRessource,percentCrystal:u,percentDeut:o,percentMetal:i})),r.a.createElement(x.a,null,r.a.createElement("hr",null),r.a.createElement("h6",{className:"margin-top text-white"},"Resources"),r.a.createElement("p",{className:"text-center text-white"},r.a.createElement(_,{rate:c,selected:l})),r.a.createElement(K,{crystal:a,deut:n,handleResourceChange:this.handleResourceChange,isNotCurrentResource:this.isNotCurrentResource,metal:t})),r.a.createElement(x.a,{className:"margin-top text-white text-center"},r.a.createElement(W,{deut:n,metal:t,crystal:a,selected:l})))}}]),t}(r.a.Component),Y=a(62),Z=a(33),ee=a.n(Z),te=a(49),ae=a(37),ne=a(39),re=a(38),le=a(73),ce=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).renderStatus=a.renderStatus.bind(Object(I.a)(a)),a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"renderStatus",value:function(e,t){var a=this,n=this.props.getActiveStatus(e);return r.a.createElement(T.a,{variant:n,onClick:function(){return a.props.setActiveStatus(e)},className:"margin-right-sm",key:t},v[e])}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,{className:"text-center"},r.a.createElement(x.a,null,Object.keys(v).map((function(t,a){return e.renderStatus(t,a)}))))}}]),t}(r.a.Component);function se(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return ie(e,t)}(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ue=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={planets:[],positions:[]},a.getPlayerData(),a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"getPlayerData",value:function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a,n,r,l,c,i,u,o,h,p,y,v,f,b,g,E,O,j,k,C,x,S,R,A,w,N,T;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.universe,n=t.lang,r=t.player,e.prev=1,l="https://s".concat(a,"-").concat(n,".ogame.gameforge.com/api/playerData.xml?id=").concat(r.id),e.next=5,fetch(m+l);case 5:return c=e.sent,e.next=8,c.text();case 8:i=e.sent,u=(new window.DOMParser).parseFromString(i,"text/xml"),o=u.getElementsByTagName("position"),h=u.getElementsByTagName("planet"),p=[],y=se(o);try{for(y.s();!(v=y.n()).done;)f=v.value,b=f.getAttribute("type"),g=f.getAttribute("score"),p.push({type:b,score:this.prettify(g),typeLongName:d[b]})}catch(M){y.e(M)}finally{y.f()}E=[],O=se(h);try{for(O.s();!(j=O.n()).done;)k=j.value,C=k.getAttribute("coords"),x=C.split(":"),S=Object(s.a)(x,3),R=S[0],A=S[1],w=S[2],N={id:k.getAttribute("id"),name:k.getAttribute("name"),coords:C,galaxy:R,system:A,position:w},(T=k.getElementsByTagName("moon")[0])&&(N.moon={id:T.getAttribute("id"),name:T.getAttribute("name"),size:T.getAttribute("size")}),E.push(N)}catch(M){O.e(M)}finally{O.f()}this.setState({planets:E,positions:p}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0);case 24:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"prettify",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center"},this.props.player.name),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"score"))),r.a.createElement("tbody",null,this.state.positions.map((function(e){return r.a.createElement("tr",{key:e.type,className:"clickable"},r.a.createElement("td",null,e.typeLongName),r.a.createElement("td",null,e.score))})))),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Coords"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.planets.map((function(e){var t=e.id,a=e.name,n=e.coords,l=e.galaxy,c=e.system,s=e.position;return r.a.createElement("tr",{key:t,className:"clickable"},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement(T.a,{variant:"primary",className:"float-right",target:"_blank",href:"https://s165-fr.ogame.gameforge.com/game/index.php?page=ingame&component=galaxy&galaxy=".concat(l,"&system=").concat(c,"&position=").concat(s)},"Open in galaxy")))})))))}}]),t}(r.a.Component);function oe(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return he(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return he(e,t)}(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var me=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(E.a)(this,Object(O.a)(t).call(this,e))).state={lang:"fr",player:{},players:[],selected:[],show:!1,status:Object.keys(v),universe:165,search:""},a.getActiveStatus=a.getActiveStatus.bind(Object(I.a)(a)),a.handleClose=a.handleClose.bind(Object(I.a)(a)),a.handleOnChange=a.handleOnChange.bind(Object(I.a)(a)),a.handleShow=a.handleShow.bind(Object(I.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(I.a)(a)),a.setActiveStatus=a.setActiveStatus.bind(Object(I.a)(a)),a.searchPlayers(a.state.lang,a.state.universe),a}return Object(j.a)(t,e),Object(g.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(e){this.setState({show:!0,player:e})}},{key:"handleOnChange",value:function(e){var t=this.state.players,a=e.currentTarget.value,n=new le.a(t,["name"]).search(a);this.setState({search:a,selected:n})}},{key:"searchPlayers",value:function(){var e=Object(te.a)(ee.a.mark((function e(t,a){var n,r,l,c,s,i,u,o,h,d,p,y;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://s".concat(a,"-").concat(t,".ogame.gameforge.com/api/players.xml"),e.next=4,fetch(m+n);case 4:return r=e.sent,e.next=7,r.text();case 7:l=e.sent,c=(new window.DOMParser).parseFromString(l,"text/xml"),s=c.getElementsByTagName("player"),i=[],u=oe(s);try{for(u.s();!(o=u.n()).done;)h=o.value,d=h.getAttribute("id"),p=h.getAttribute("name"),y=h.getAttribute("status")||"A",i.push({id:d,name:p,status:y})}catch(v){u.e(v)}finally{u.f()}this.setState({selected:i,players:i,lang:t,universe:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.lang.value,a=e.currentTarget.universe.value;this.searchPlayer(t,a)}},{key:"getActiveStatus",value:function(e){return this.state.status.includes(e)?"primary":"light"}},{key:"setActiveStatus",value:function(e){var t=this.state.status.includes(e)?this.state.status.filter((function(t){return t!==e})):[].concat(Object(Y.a)(this.state.status),Object(Y.a)(e));t.length||t.push(e),this.setState({status:t},this.refreshPlayers)}},{key:"refreshPlayers",value:function(){var e=this.state,t=e.status,a=e.players,n=e.search,r=new RegExp("[".concat(t.join(""),"]+")),l=new RegExp(n),c=a.filter((function(e){return r.test(e.status)}));this.setState({selected:c.filter((function(e){return l.exec(e)}))})}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,null,r.a.createElement(x.a,{sm:12},r.a.createElement(ne.a,{onSubmit:this.handleSubmit,className:"m-4"},r.a.createElement(C.a,{className:"w-100 justify-content-center"},r.a.createElement(x.a,{xs:"auto"},r.a.createElement(ne.a.Control,{type:"number",name:"universe",placeholder:"universe",size:"sm",defaultValue:"165"})),r.a.createElement(x.a,{xs:"auto"},r.a.createElement(ne.a.Control,{type:"text",name:"lang",placeholder:"fr",size:"sm",defaultValue:"fr"})),r.a.createElement(x.a,{xs:"auto"},r.a.createElement(T.a,{variant:"light",type:"submit"},"Submit"))))),r.a.createElement(x.a,{sm:12},r.a.createElement("h4",{className:"text-white text-center"},this.state.lang," - ",this.state.universe),r.a.createElement(ce,{getActiveStatus:this.getActiveStatus,setActiveStatus:this.setActiveStatus}),r.a.createElement(C.a,{className:"m-2"},r.a.createElement(x.a,null,r.a.createElement(ne.a.Control,{placeholder:"Search by player's name",onChange:this.handleOnChange}))),r.a.createElement(ae.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.selected.map((function(t){return r.a.createElement("tr",{key:t.id,className:"clickable"},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.status),r.a.createElement("td",null,r.a.createElement(T.a,{variant:"primary",onClick:function(){return e.handleShow(t)}},"Open details")))}))))),r.a.createElement(re.a,{show:this.state.show,onHide:this.handleClose,animation:!1},r.a.createElement(re.a.Header,{closeButton:!0},r.a.createElement(re.a.Title,null,"Player details")),r.a.createElement(re.a.Body,null,r.a.createElement(ue,{player:this.state.player,lang:this.state.lang,universe:this.state.universe}))))}}]),t}(r.a.Component);var de=function(){var e=Object(n.useState)(h),t=Object(s.a)(e,2),a=t[0],l=t[1];return r.a.createElement(w,{background:a,setBackground:function(){return l(a===o?h:o)}},r.a.createElement(i.a,{basename:"/ogame-ui/"},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/trades"},r.a.createElement(X,null)),r.a.createElement(u.a,{path:"/players"},r.a.createElement(me,null)),r.a.createElement(u.a,{path:"/market"}),r.a.createElement(u.a,{path:"/mining"}),r.a.createElement(u.a,{path:"/universes"}),r.a.createElement(u.a,{path:"/score"}),r.a.createElement(u.a,{path:"/alliances"}),r.a.createElement(i.a,{path:"/"},r.a.createElement(P,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[74,1,2]]]);
//# sourceMappingURL=main.61f98ddc.chunk.js.map