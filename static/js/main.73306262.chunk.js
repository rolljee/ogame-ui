(this["webpackJsonpogame-ui"]=this["webpackJsonpogame-ui"]||[]).push([[0],{74:function(e,t,a){e.exports=a(91)},79:function(e,t,a){},80:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(25),c=a.n(l),s=(a(79),a(80),a(58)),i=a(15),u=a(11),o=a(71),m=a(70),h=a(21),d=a(29),p=a(6),y=a(7),v=a(9),b=a(8),f=a(10),g=a(40),E=a(16),O=a(64),j=a(66),C="https://api.codetabs.com/v1/proxy?quest=",k={0:"All",1:"Economy",2:"Research",3:"Military",4:"Military Built",5:"Military Destroyed",6:"Military Lost",7:"Honor"},x=[{rate:"2.5:1.6:1"},{rate:"2:1.5:1"},{rate:"1.8:1.4:1"}],S={crystal:"crystal",deut:"deut",metal:"metal"},R={A:"active",a:"admin",v:"vacancy",i:"inactive",I:"long inactive",b:"banned",o:"outlaw"},N=[{header:"Trades",title:"Trades resources",text:"Get value of resources to sell your resource",route:"trades",available:!0},{header:"Players",title:"Players list",text:"Get players accross universes",route:"players",available:!0},{header:"Market",title:"Market resources calculator",text:"Get value of ship/resources for the market",route:"market",available:!1},{header:"Mining",title:"Building tool",text:"Get the production/cost of any building",route:"mining",available:!1},{header:"Universes",title:"Get universes informations",text:"Universes list and data",route:"universes",available:!1},{header:"Scores",title:"Get scores accross universes",text:"Scores military/mining etc.",route:"score",available:!1},{header:"Alliances",title:"Get alliances informations",text:"Alliances list and data accross universes",route:"alliances",available:!1}],A=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(i.a,null,N.map((function(e,t){return r.a.createElement(u.a,{key:t},r.a.createElement(g.a,{bg:"dark",text:"white",style:{width:"18rem",height:"10rem"},className:"m-3",key:e.route},r.a.createElement(g.a.Body,null,r.a.createElement("span",{className:"float-right"},e.available?r.a.createElement(E.a,{variant:"dark",href:e.route},r.a.createElement(O.a,{icon:j.a})):"comming soon"),r.a.createElement(g.a.Title,null,e.title),r.a.createElement(g.a.Text,null,e.text))))})))}}]),t}(r.a.Component),w=a(52),T=a(12),M=a(34),D=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).renderRates=a.renderRates.bind(Object(T.a)(a)),a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"renderRates",value:function(e,t){var a=this,n=e.rate,l=this.props.getActiveRate(n);return r.a.createElement(E.a,{variant:l,onClick:function(){return a.props.setRate(n)},className:"margin-right-sm",key:t},n)}},{key:"render",value:function(){var e=this;return x.map((function(t,a){return e.renderRates(t,a)}))}}]),t}(r.a.Component),P=a(51),I=a(44),B=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(P.a.Prepend,null,r.a.createElement(P.a.Text,{id:"input-".concat(this.props.text)},this.props.text)),r.a.createElement(I.a,{"aria-label":this.props.input,"aria-describedby":"input-".concat(this.props.text),disabled:this.props.disabled?"disabled":"",max:this.props.maxValue,min:"0",onChange:this.props.onChange,placeholder:this.props.placeholder,type:"number",value:this.props.value}))}}]),t}(r.a.Component),V=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).resources=[{name:"%metal",maxValue:100,resource:S.metal,percent:"percentMetal"},{name:"%crystal",maxValue:100,resource:S.crystal,percent:"percentCrystal"},{name:"%deut",maxValue:100,resource:S.deut,percent:"percentDeut"}],a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"renderInputs",value:function(e,t){var a=this,n=e.resource,l=e.name,c=e.maxValue,s=e.percent;return r.a.createElement(u.a,{key:t},r.a.createElement(B,{text:l,disabled:this.props.isCurrentRessource(n),maxValue:c,onChange:function(e){return a.props.handlePercentChange(e,n)},placeholder:n,value:this.props[s]}))}},{key:"render",value:function(){var e=this;return r.a.createElement(i.a,null,this.resources.map((function(t,a){return e.renderInputs(t,a)})))}}]),t}(r.a.Component),H=a(67),G=a.n(H),F=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).handleOnClick=a.handleOnClick.bind(Object(T.a)(a)),a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"handleOnClick",value:function(){G()(this.props.text)}},{key:"render",value:function(){return r.a.createElement(E.a,{variant:"light",onClick:this.handleOnClick},"Copy")}}]),t}(r.a.Component),L=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(y.a)(t,[{key:"prettify",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}},{key:"getText",value:function(e,t,a,n){return n===S.deut?"Trade:\n".concat(a," deut\n\nAgainst:\n").concat(e," metal\n").concat(t," crystal"):n===S.crystal?"Trade:\n".concat(t," crystal\n\nAgainst:\n").concat(e," metal\n").concat(a," deut"):n===S.metal?"Trade:\n".concat(e," metal\n\nAgainst:\n").concat(a," deut\n").concat(t," crystal"):"Nothing to sell yet"}},{key:"render",value:function(){var e=this.props,t=e.metal,a=e.crystal,n=e.deut,l=e.selected,c=this.prettify(n),s=this.prettify(t),i=this.prettify(a),u=this.getText(s,i,c,l);return r.a.createElement(r.a.Fragment,null,"deut: ",c," metal: ",s," crystal: ",i,r.a.createElement("div",{className:"margin-top"},r.a.createElement(F,{text:u})))}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).resources=[{id:S.metal},{id:S.crystal},{id:S.deut}],a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"renderInputs",value:function(e,t){var a=this,n=S[e.id];return r.a.createElement(u.a,{key:t},r.a.createElement(B,{text:n,onChange:function(e){return a.props.handleRateChange(e,n)},placeholder:n,value:this.props.getRate(n)}))}},{key:"render",value:function(){var e=this;return r.a.createElement(i.a,null,this.resources.map((function(t,a){return e.renderInputs(t,a)})))}}]),t}(r.a.Component),z=function(e){function t(){return Object(p.a)(this,t),Object(v.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rate,a=e.selected,n=M.a.Trader.parseRate(t,a),r=n.rateMetal,l=n.rateCrystal,c=n.rateDeut;return"deut"===a?"".concat(c," deut = ").concat(r," metal and ").concat(l," crystal"):"metal"===a?"".concat(r," metal = ").concat(c," deut and ").concat(l," crystal"):"crystal"===a?"".concat(l," crystal = ").concat(c," deut and ").concat(r," metal"):"Nothing selected"}}]),t}(r.a.Component),$=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).resources=[{displayName:"Metal",name:S.metal},{displayName:"Crystal",name:S.crystal},{displayName:"Deut",name:S.deut}],a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"renderInputs",value:function(e,t){var a=this;return r.a.createElement(u.a,{key:t},r.a.createElement(B,{disabled:this.props.isNotCurrentResource(e.name),onChange:function(t){return a.props.handleResourceChange(t,e.name)},placeholder:e.name,text:e.displayName,value:this.props[e.name]}))}},{key:"render",value:function(){var e=this;return r.a.createElement(i.a,null,this.resources.map((function(t,a){return e.renderInputs(t,a)})))}}]),t}(r.a.Component),J=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).resources=[{id:S.metal},{id:S.crystal},{id:S.deut}],a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"renderLabel",value:function(e,t){var a=this,n=S[e.id],l=this.props.getActiveTrade(n);return r.a.createElement(E.a,{variant:l,onClick:function(){return a.props.handleOnChange(n)},className:"margin-right-sm",key:t},n)}},{key:"render",value:function(){var e=this;return this.resources.map((function(t,a){return e.renderLabel(t,a)}))}}]),t}(r.a.Component),W=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={crystal:0,deut:0,metal:0,percentCrystal:40,percentDeut:0,percentMetal:60,rate:"2:1.5:1",selected:S.deut},a.getActiveRate=a.getActiveRate.bind(Object(T.a)(a)),a.getRate=a.getRate.bind(Object(T.a)(a)),a.handleOnChange=a.handleOnChange.bind(Object(T.a)(a)),a.getActiveTrade=a.getActiveTrade.bind(Object(T.a)(a)),a.handlePercentChange=a.handlePercentChange.bind(Object(T.a)(a)),a.handleRateChange=a.handleRateChange.bind(Object(T.a)(a)),a.handleResourceChange=a.handleResourceChange.bind(Object(T.a)(a)),a.handleResourceChange=a.handleResourceChange.bind(Object(T.a)(a)),a.isCurrentRessource=a.isCurrentRessource.bind(Object(T.a)(a)),a.isNotCurrentResource=a.isNotCurrentResource.bind(Object(T.a)(a)),a.setRate=a.setRate.bind(Object(T.a)(a)),a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"sellDeut",value:function(){var e=this.state,t=e.deut,a=e.percentMetal,n=e.percentCrystal,r=e.rate,l=M.a.Trader.sellDeut(t,a,n,r),c=l.metal,s=l.crystal;this.setState({metal:c,crystal:s})}},{key:"sellMetal",value:function(){var e=this.state,t=e.metal,a=e.percentDeut,n=e.percentCrystal,r=e.rate,l=M.a.Trader.sellMetal(t,a,n,r),c=l.crystal,s=l.deut;this.setState({deut:s,crystal:c})}},{key:"sellCrystal",value:function(){var e=this.state,t=e.crystal,a=e.percentDeut,n=e.percentMetal,r=e.rate,l=M.a.Trader.sellCrystal(t,a,n,r),c=l.metal,s=l.deut;this.setState({metal:c,deut:s})}},{key:"printResult",value:function(){this.state.selected===S.deut?this.sellDeut():this.state.selected===S.metal?this.sellMetal():this.state.selected===S.crystal&&this.sellCrystal()}},{key:"handleOnChange",value:function(e){this.setState({selected:e})}},{key:"handleResourceChange",value:function(e,t){var a=Number(e.target.value);t===S.deut?this.setState({deut:a},this.printResult):t===S.metal?this.setState({metal:a},this.printResult):t===S.crystal&&this.setState({crystal:a},this.printResult)}},{key:"handleRateChange",value:function(e,t){var a=e.target.value,n=this.state.rate.split(":"),r=n[2],l=n[0],c=n[1],s="".concat(l,":").concat(c,":").concat(r);t===S.deut?s="".concat(l,":").concat(c,":").concat(a):t===S.metal?s="".concat(a,":").concat(c,":").concat(r):t===S.crystal&&(s="".concat(l,":").concat(a,":").concat(r)),this.setState({rate:s},this.printResult)}},{key:"roundToHundred",value:function(e,t){var a=this.state.selected;return a===S.deut&&t===S.metal?{percentCrystal:100-e}:a===S.deut&&t===S.crystal?{percentMetal:100-e}:a===S.metal&&t===S.deut?{percentCrystal:100-e}:a===S.metal&&t===S.crystal||a===S.crystal&&t===S.metal?{percentDeut:100-e}:a===S.crystal&&t===S.deut?{percentMetal:100-e}:void 0}},{key:"handlePercentChange",value:function(e,t){var a=this.roundValue(Number(e.target.value));t===S.deut?this.setState(Object(w.a)({percentDeut:a},this.roundToHundred(a,S.deut)),this.printResult):t===S.metal?this.setState(Object(w.a)({percentMetal:a},this.roundToHundred(a,S.metal)),this.printResult):t===S.crystal&&this.setState(Object(w.a)({percentCrystal:a},this.roundToHundred(a,S.crystal)),this.printResult)}},{key:"getRate",value:function(e){var t=this.state.rate.split(":"),a=t[2],n=t[0],r=t[1];return e===S.deut?a:e===S.metal?n:e===S.crystal?r:void 0}},{key:"getActiveRate",value:function(e){return e===this.state.rate?"primary":"light"}},{key:"getActiveTrade",value:function(e){return e===this.state.selected?"primary":"light"}},{key:"setRate",value:function(e){this.setState({rate:e})}},{key:"getPercent",value:function(e){var t=this.state,a=t.percentCrystal,n=t.percentDeut,r=t.percentMetal,l=this.roundValue(n),c=this.roundValue(r),s=this.roundValue(a);return e===S.deut?{percentCrystal:s,percentDeut:0,percentMetal:c}:e===S.metal?{percentCrystal:s,percentDeut:l,percentMetal:0}:e===S.crystal?{percentCrystal:0,percentDeut:l,percentMetal:c}:void 0}},{key:"isCurrentRessource",value:function(e){return e===this.state.selected}},{key:"isNotCurrentResource",value:function(e){return this.state.selected!==e}},{key:"roundValue",value:function(e){return e>100?100:e}},{key:"render",value:function(){var e=this.state,t=e.metal,a=e.crystal,n=e.deut,l=e.selected,c=e.rate,s=this.getPercent(l),i=s.percentMetal,o=s.percentCrystal,m=s.percentDeut;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null,r.a.createElement("div",{className:"text-center"},r.a.createElement("h6",{className:"margin-top text-white"},"Select ressource"),r.a.createElement("div",{className:"margin-bottom"},r.a.createElement(J,{handleOnChange:this.handleOnChange,getActiveTrade:this.getActiveTrade})))),r.a.createElement(u.a,null,r.a.createElement("hr",null),r.a.createElement("h6",{className:"margin-top text-white"},"Rates"),r.a.createElement("div",{className:"text-center margin-bottom"},r.a.createElement(D,{getActiveRate:this.getActiveRate,setRate:this.setRate})),r.a.createElement(U,{getRate:this.getRate,handleRateChange:this.handleRateChange})),r.a.createElement(u.a,null,r.a.createElement("hr",null),r.a.createElement("h6",{className:"margin-top text-white"},"Percents"),r.a.createElement(V,{handlePercentChange:this.handlePercentChange,isCurrentRessource:this.isCurrentRessource,percentCrystal:o,percentDeut:m,percentMetal:i})),r.a.createElement(u.a,null,r.a.createElement("hr",null),r.a.createElement("h6",{className:"margin-top text-white"},"Resources"),r.a.createElement("p",{className:"text-center text-white"},r.a.createElement(z,{rate:c,selected:l})),r.a.createElement($,{crystal:a,deut:n,handleResourceChange:this.handleResourceChange,isNotCurrentResource:this.isNotCurrentResource,metal:t})),r.a.createElement(u.a,{className:"margin-top text-white text-center"},r.a.createElement(L,{deut:n,metal:t,crystal:a,selected:l})))}}]),t}(r.a.Component),q=a(59),_=a(32),K=a.n(_),Q=a(46),X=a(36),Y=a(39),Z=a(38),ee=a(73),te=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).renderStatus=a.renderStatus.bind(Object(T.a)(a)),a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"renderStatus",value:function(e,t){var a=this,n=this.props.getActiveStatus(e);return r.a.createElement(E.a,{variant:n,onClick:function(){return a.props.setActiveStatus(e)},className:"margin-right-sm",key:t},R[e])}},{key:"render",value:function(){var e=this;return r.a.createElement(i.a,{className:"text-center"},r.a.createElement(u.a,null,Object.keys(R).map((function(t,a){return e.renderStatus(t,a)}))))}}]),t}(r.a.Component),ae=a(72);function ne(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return re(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return re(e,t)}(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var le=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={planets:[],positions:[]},a.getPlayerData(),a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"getPlayerData",value:function(){var e=Object(Q.a)(K.a.mark((function e(){var t,a,n,r,l,c,s,i,u,o,m,h,d,p,y,v,b,f,g,E,O,j,x,S,R,N,A,w;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.universe,n=t.lang,r=t.player,e.prev=1,l="https://s".concat(a,"-").concat(n,".ogame.gameforge.com/api/playerData.xml?id=").concat(r.id),e.next=5,fetch(C+l);case 5:return c=e.sent,e.next=8,c.text();case 8:s=e.sent,i=(new window.DOMParser).parseFromString(s,"text/xml"),u=i.getElementsByTagName("position"),o=i.getElementsByTagName("planet"),m=[],h=ne(u);try{for(h.s();!(d=h.n()).done;)p=d.value,y=p.getAttribute("type"),v=p.getAttribute("score"),m.push({type:y,score:this.prettify(v),typeLongName:k[y]})}catch(T){h.e(T)}finally{h.f()}b=[],f=ne(o);try{for(f.s();!(g=f.n()).done;)E=g.value,O=E.getAttribute("coords"),j=O.split(":"),x=Object(ae.a)(j,3),S=x[0],R=x[1],N=x[2],A={id:E.getAttribute("id"),name:E.getAttribute("name"),coords:O,galaxy:S,system:R,position:N},(w=E.getElementsByTagName("moon")[0])&&(A.moon={id:w.getAttribute("id"),name:w.getAttribute("name"),size:w.getAttribute("size")}),b.push(A)}catch(T){f.e(T)}finally{f.f()}this.setState({planets:b,positions:m}),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(1),console.error(e.t0);case 24:case"end":return e.stop()}}),e,this,[[1,21]])})));return function(){return e.apply(this,arguments)}}()},{key:"prettify",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"text-center"},this.props.player.name),r.a.createElement(X.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Type"),r.a.createElement("th",null,"score"))),r.a.createElement("tbody",null,this.state.positions.map((function(e){return r.a.createElement("tr",{key:e.type,className:"clickable"},r.a.createElement("td",null,e.typeLongName),r.a.createElement("td",null,e.score))})))),r.a.createElement(X.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Coords"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.planets.map((function(e){var t=e.id,a=e.name,n=e.coords,l=e.galaxy,c=e.system,s=e.position;return r.a.createElement("tr",{key:t,className:"clickable"},r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement(E.a,{variant:"primary",className:"float-right",target:"_blank",href:"https://s165-fr.ogame.gameforge.com/game/index.php?page=ingame&component=galaxy&galaxy=".concat(l,"&system=").concat(c,"&position=").concat(s)},"Open in galaxy")))})))))}}]),t}(r.a.Component);function ce(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(a);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return se(e,t)}(e))){var t=0,a=function(){};return{s:a,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,l=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return l=e.done,e},e:function(e){c=!0,r=e},f:function(){try{l||null==n.return||n.return()}finally{if(c)throw r}}}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var ie=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(v.a)(this,Object(b.a)(t).call(this,e))).state={lang:"fr",player:{},players:[],selected:[],show:!1,status:Object.keys(R),universe:165,search:""},a.getActiveStatus=a.getActiveStatus.bind(Object(T.a)(a)),a.handleClose=a.handleClose.bind(Object(T.a)(a)),a.handleOnChange=a.handleOnChange.bind(Object(T.a)(a)),a.handleShow=a.handleShow.bind(Object(T.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(T.a)(a)),a.setActiveStatus=a.setActiveStatus.bind(Object(T.a)(a)),a.searchPlayers(a.state.lang,a.state.universe),a}return Object(f.a)(t,e),Object(y.a)(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"handleShow",value:function(e){this.setState({show:!0,player:e})}},{key:"handleOnChange",value:function(e){var t=this.state.players,a=e.currentTarget.value,n=new ee.a(t,["name"]).search(a);this.setState({search:a,selected:n})}},{key:"searchPlayers",value:function(){var e=Object(Q.a)(K.a.mark((function e(t,a){var n,r,l,c,s,i,u,o,m,h,d,p;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="https://s".concat(a,"-").concat(t,".ogame.gameforge.com/api/players.xml"),e.next=4,fetch(C+n);case 4:return r=e.sent,e.next=7,r.text();case 7:l=e.sent,c=(new window.DOMParser).parseFromString(l,"text/xml"),s=c.getElementsByTagName("player"),i=[],u=ce(s);try{for(u.s();!(o=u.n()).done;)m=o.value,h=m.getAttribute("id"),d=m.getAttribute("name"),p=m.getAttribute("status")||"A",i.push({id:h,name:d,status:p})}catch(y){u.e(y)}finally{u.f()}this.setState({selected:i,players:i,lang:t,universe:a}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:case"end":return e.stop()}}),e,this,[[0,16]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.lang.value,a=e.currentTarget.universe.value;this.searchPlayer(t,a)}},{key:"getActiveStatus",value:function(e){return this.state.status.includes(e)?"primary":"light"}},{key:"setActiveStatus",value:function(e){var t=this.state.status.includes(e)?this.state.status.filter((function(t){return t!==e})):[].concat(Object(q.a)(this.state.status),Object(q.a)(e));t.length||t.push(e),this.setState({status:t},this.refreshPlayers)}},{key:"refreshPlayers",value:function(){var e=this.state,t=e.status,a=e.players,n=e.search,r=new RegExp("[".concat(t.join(""),"]+")),l=new RegExp(n),c=a.filter((function(e){return r.test(e.status)}));this.setState({selected:c.filter((function(e){return l.exec(e)}))})}},{key:"render",value:function(){var e=this;return r.a.createElement(i.a,null,r.a.createElement(u.a,{sm:12},r.a.createElement(Y.a,{onSubmit:this.handleSubmit,className:"m-4"},r.a.createElement(i.a,{className:"w-100 justify-content-center"},r.a.createElement(u.a,{xs:"auto"},r.a.createElement(Y.a.Control,{type:"number",name:"universe",placeholder:"universe",size:"sm",defaultValue:"165"})),r.a.createElement(u.a,{xs:"auto"},r.a.createElement(Y.a.Control,{type:"text",name:"lang",placeholder:"fr",size:"sm",defaultValue:"fr"})),r.a.createElement(u.a,{xs:"auto"},r.a.createElement(E.a,{variant:"light",type:"submit"},"Submit"))))),r.a.createElement(u.a,{sm:12},r.a.createElement("h4",{className:"text-white text-center"},this.state.lang," - ",this.state.universe),r.a.createElement(te,{getActiveStatus:this.getActiveStatus,setActiveStatus:this.setActiveStatus}),r.a.createElement(i.a,{className:"m-2"},r.a.createElement(u.a,null,r.a.createElement(Y.a.Control,{placeholder:"Search by player's name",onChange:this.handleOnChange}))),r.a.createElement(X.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.selected.map((function(t){return r.a.createElement("tr",{key:t.id,className:"clickable"},r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.status),r.a.createElement("td",null,r.a.createElement(E.a,{variant:"primary",onClick:function(){return e.handleShow(t)}},"Open details")))}))))),r.a.createElement(Z.a,{show:this.state.show,onHide:this.handleClose,animation:!1},r.a.createElement(Z.a.Header,{closeButton:!0},r.a.createElement(Z.a.Title,null,"Player details")),r.a.createElement(Z.a.Body,null,r.a.createElement(le,{player:this.state.player,lang:this.state.lang,universe:this.state.universe}))),r.a.createElement(d.a,{path:"/trades"},r.a.createElement(W,null)))}}]),t}(r.a.Component);var ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{basename:"/ogame-ui"},r.a.createElement(o.a,{bg:"dark",variant:"dark"},r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(h.b,{className:"ml-3",to:"/"},"Home"),r.a.createElement(h.b,{className:"ml-3",to:"trades"},"Trades"),r.a.createElement(h.b,{className:"ml-3",to:"players"},"Players"),r.a.createElement(h.b,{className:"ml-3",to:"market"},"Market"),r.a.createElement(h.b,{className:"ml-3",to:"mining"},"Mining"),r.a.createElement(h.b,{className:"ml-3",to:"universes"},"Universes"),r.a.createElement(h.b,{className:"ml-3",to:"score"},"Scores"),r.a.createElement(h.b,{className:"ml-3",to:"alliances"},"Alliances"))),r.a.createElement(s.a,{fluid:!0,className:"full-height"},r.a.createElement(s.a,null,r.a.createElement(i.a,null,r.a.createElement(u.a,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/trades"},r.a.createElement(W,null)),r.a.createElement(d.a,{path:"/players"},r.a.createElement(ie,null)),r.a.createElement(d.a,{path:"/market"},r.a.createElement(A,null)),r.a.createElement(d.a,{path:"/mining"},r.a.createElement(A,null)),r.a.createElement(d.a,{path:"/universes"},r.a.createElement(A,null)),r.a.createElement(d.a,{path:"/score"},r.a.createElement(A,null)),r.a.createElement(d.a,{path:"/alliances"},r.a.createElement(A,null)),r.a.createElement(h.a,{path:"/"},r.a.createElement(A,null)))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[74,1,2]]]);
//# sourceMappingURL=main.73306262.chunk.js.map